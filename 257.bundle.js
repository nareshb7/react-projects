"use strict";(self.webpackChunkreact_beginner_projects_1=self.webpackChunkreact_beginner_projects_1||[]).push([[257],{706:(e,t,n)=>{n.d(t,{$n:()=>l,Kw:()=>s,pd:()=>u});var r=n(6540),a=["title","onClick","styles","className","disabled","type"],o=["value","onChange","styles","className","onKeyDown","name","placeholder"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=function(e){var t=e.title,n=e.onClick,o=e.styles,l=e.className,u=void 0===l?"":l,s=e.disabled,m=e.type,f=i(e,a);return r.createElement("button",c({onClick:n,style:o,className:" px-3 py-2 border border-blue-500 rounded hover:bg-gray-500 m-1 ".concat(u),disabled:s,type:m},f),t)},u=function(e){var t=e.value,n=e.onChange,a=e.styles,l=e.className,u=void 0===l?"border border-blue-500 input rounded mx-1":l,s=e.onKeyDown,m=e.name,f=e.placeholder,b=i(e,o);return r.createElement("input",c({value:t,onKeyDown:s,onChange:n,className:u,style:a,placeholder:f,name:m},b))},s=function(e){var t=e.error,n=e.className;return t?r.createElement("div",{className:"text-error ".concat(n)},t):r.createElement(r.Fragment,null)}},5257:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R,socket:()=>K});var r=n(6540),a=n(7115),o=n(5072),c=n.n(o),i=n(7825),l=n.n(i),u=n(7659),s=n.n(u),m=n(5056),f=n.n(m),b=n(540),d=n.n(b),h=n(1113),p=n.n(h),y=n(2430),g={};g.styleTagTransform=p(),g.setAttributes=f(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=d(),c()(y.A,g),y.A&&y.A.locals&&y.A.locals;var v=n(706);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const w=function(e){var t=e.userData,n=e.handleBack,a=x((0,r.useState)(""),2),o=a[0],c=a[1],i=x((0,r.useState)([]),2),l=i[0],u=i[1];K.off("newMessage").on("newMessage",(function(e,t,n){u(t)}));var s=function(){K.emit("sendMessage",{content:o,sender:t.name,roomId:t.roomNo}),c("")};return(0,r.useEffect)((function(){return K.emit("joinRoom",t.roomNo),K.emit("getMessages",t.roomNo),function(){K.emit("leaveRoom",t.roomNo)}}),[]),r.createElement("div",{className:"chat-box"},r.createElement("div",{className:"box-header"},r.createElement("div",{className:"leftside-section"},r.createElement("span",{className:"back-icon",onClick:n},"←"),r.createElement("span",null,t.name," (",t.roomNo,")")),r.createElement("div",{className:"rightside-section"},r.createElement("span",null,":"))),r.createElement("div",{className:"box-body"},l.map((function(e,n){return r.createElement("div",{key:n,className:"message ".concat(e.sender===t.name?"right":"left")},r.createElement("span",{className:"message-content"},e.content),r.createElement("div",{className:"user-name"},e.sender===t.name?"You":e.sender))}))),r.createElement("div",{className:"box-footer"},r.createElement(v.pd,{onKeyDown:function(e){"Enter"===e.key&&s()},className:"msz-input",value:o,onChange:function(e){return c(e.target.value)}}),r.createElement(v.$n,{className:"msz-submit",title:">",onClick:s})))};var N=/^[a-z0-9]{3}-[a-z0-9]{4}-[a-z0-9]{3}$/,O={roomNo:"",name:""},j=function(){return Math.random().toString(36)},S=function(e,t){switch(e){case"name":if(!t)return"Name Required";if(t.length<3)return"Min 3 chars required";break;case"roomNo":if(!t)return"Room Id required";if(!t.match(N))return"Enter valid Room Id";break;default:return""}};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){var r;return r=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==k(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const M=function(e){var t=e.onStart,n=P((0,r.useState)(O),2),a=n[0],o=n[1],c=P((0,r.useState)(O),2),i=c[0],l=c[1],u=function(e,t){o(C(C({},a),{},I({},e,t)))};return r.createElement("div",{className:"login flex justify-start flex-col w-full md:w-1/2 text-left mx-auto bg-gray-888 p-5 rounded-lg"},r.createElement("div",{className:"my-2.5 "},r.createElement("label",{className:"w-90 inline-block font-bold"},"User Name:"),r.createElement(v.pd,{value:a.name,onChange:function(e){return u("name",e.target.value)}})),r.createElement(v.Kw,{error:i.name}),r.createElement("div",{className:"my-2.5"},r.createElement("label",{className:"w-90 inline-block font-bold"},"Room No:"),r.createElement(v.pd,{value:a.roomNo,onChange:function(e){return u("roomNo",e.target.value)}}),r.createElement(v.$n,{onClick:function(){var e,t=(e=j().substr(2,10),"".concat(e.slice(0,3),"-").concat(e.slice(3,7),"-").concat(e.slice(7)));o(C(C({},a),{},{roomNo:t}))},title:"Generate Room Id"})),r.createElement(v.Kw,{error:i.roomNo}),r.createElement("div",{className:"my-2.5"},r.createElement(v.$n,{onClick:function(){var e=a.name;if(0===Object.entries(a).filter((function(e){var t=S(e[0],e[1]);return l((function(n){return C(C({},n),{},I({},e[0],t))})),t})).length){var n=j().slice(2,6);a.name=e+n,t(a),o(O)}},title:"Start Chat"}),r.createElement(v.$n,{onClick:function(){0===Object.entries(a).filter((function(e){var t=S(e[0],e[1]);return l((function(n){return C(C({},n),{},I({},e[0],t))})),t})).length&&(t(a),o(O))},title:"Join Chat"})))};function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=(0,a.io)("http://192.168.10.30:8081");const R=function(){var e=$((0,r.useState)(O),2),t=e[0],n=e[1],a=$((0,r.useState)(!1),2),o=a[0],c=a[1],i=function(){c(!1),n(O)};return r.createElement("div",{className:"chat-main "},r.createElement("div",{className:"font-bold text-2xl p-1"}," CHAT MAIN PAGE"),!o&&r.createElement(M,{onStart:function(e){c(!0),n(e)}}),o&&(K.connected?r.createElement(w,{userData:t,handleBack:i}):r.createElement("div",null,r.createElement(v.$n,{onClick:i,title:"Go Back"})," Socket Not Connected")))}},2430:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1601),a=n.n(r),o=n(6314),c=n.n(o)()(a());c.push([e.id,".chat-main{min-height:400px;text-align:center;margin:10px}.chat-main .chat-box{width:30%;margin:auto;background-color:#f0ece6;height:500px}@media(max-width: 967px){.chat-main .chat-box{width:70%}}@media(max-width: 767px){.chat-main .chat-box{width:95%}}.chat-main .chat-box .box-header{height:50px;background-color:#128d7f;display:flex;justify-content:space-between;align-items:center;font-size:24px}.chat-main .chat-box .box-header .leftside-section{margin-left:10px}.chat-main .chat-box .box-header .leftside-section .back-icon{font-size:24px;margin:5px;cursor:pointer}.chat-main .chat-box .box-header .rightside-section{margin-right:10px}.chat-main .chat-box .box-body{height:400px;overflow:auto}.chat-main .chat-box .box-body .right{text-align:right;margin-right:3px}.chat-main .chat-box .box-body .right .message-content{border-radius:9px 0 9px 9px}.chat-main .chat-box .box-body .left{text-align:left;margin-left:3px}.chat-main .chat-box .box-body .left .message-content{border-radius:0px 9px 9px}.chat-main .chat-box .box-body .message{margin-block:10px}.chat-main .chat-box .box-body .message .message-content{padding:5px 10px;background-color:#888}.chat-main .chat-box .box-body .message .user-name{font-size:10px;color:#888}.chat-main .chat-box .box-footer{height:50px}.chat-main .chat-box .box-footer .msz-input{width:80%;padding:10px 20px;margin-right:5px}",""]);const i=c}}]);